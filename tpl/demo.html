<!DOCTYPE html>
<html lang="en">
    <head> 
        <meta charset="utf-8" /> 
        <title>拖动浮层</title>
        <meta name="keywords" content="" />
        <meta name="description" content="" />
        <link rel="stylesheet" type="text/css" href="../css/reset.css" />
        <link rel="stylesheet" type="text/css" href="../css/styles.css" />
    </head>
    <body>
        <div class="container" style="position:relative">
            <div class="note ui-draggable" style="left: 50px; top: 10px; z-index: 6585; opacity: 1;">
                <span class="data">1.</span>
                wwwwwwwwwww
            </div>
            <div class="note ui-draggable" style="left: 409px; top: 100px; z-index: 6584; opacity: 1;">
                <span class="data">2.</span>
                333333333333
            </div>
            <div class="note ui-draggable" style="left: 587px; top: 155px; z-index: 6586; opacity: 1;">
                <span class="data">3.</span>
                4444444444
            </div>
        </div>
        <script type="text/javascript" src="http://www.sucaihuo.com/Public/js/other/jquery.js"></script> 
        <script type='text/javascript' src='../js/jquery-ui.min.js'></script>
        <script type="text/javascript">
            $(function() {
                var tmp;
                $('.note').each(function() {
                    tmp = $(this).css('z-index');
                    if (tmp > zIndex)
                        zIndex = tmp;
                })
                make_draggable($('.note'));
            });

            var zIndex = 0;
            function make_draggable(elements) {
                elements.draggable({
                    opacity: 0.8,
                    containment: 'parent',
                    start: function(e, ui) {
                        ui.helper.css('z-index', ++zIndex);
                    },
                    stop: function(e, ui) {
                        // ui.helper.css({'left':0, 'top':0});
//                        $.get('ajax.php', {
//                            x: ui.position.left,
//                            y: ui.position.top,
//                            z: zIndex,
//                            id: parseInt(ui.helper.find('span.data').html())
//                        });
                    }
                });
            }
        </script>
    </body>
</html>